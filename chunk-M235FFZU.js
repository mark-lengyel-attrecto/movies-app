import{a as d}from"./chunk-7ZKYVQWI.js";import{a as h}from"./chunk-27TOIQOX.js";import{d as v}from"./chunk-GHD2NVEQ.js";import{a as f}from"./chunk-7ZYNTI2X.js";import"./chunk-HC4HYBQD.js";import{Ca as s,Ja as a,bb as c,db as m,ia as r,kb as p,qa as n}from"./chunk-PVPEYOVI.js";var I=(()=>{class o{constructor(e,t,i){this.movieService=e,this.activatedRoute=t,this.destroyRef=i,this.hostClasses="overflow-auto flex-grow-1",this.movieData$=n(this.movieService.getPopular())}ngOnInit(){this.subscribeToQueryParams()}subscribeToQueryParams(){this.activatedRoute.queryParams.pipe(h(this.destroyRef)).subscribe(e=>{e.query&&this.movieData$.set(this.movieService.search(e.query,parseInt(e.page)||1))})}static{this.\u0275fac=function(t){return new(t||o)(s(f),s(v),s(r))}}static{this.\u0275cmp=a({type:o,selectors:[["app-search"]],hostVars:2,hostBindings:function(t,i){t&2&&m(i.hostClasses)},decls:1,vars:1,consts:[[3,"movieData$"]],template:function(t,i){t&1&&p(0,"app-movie-list",0),t&2&&c("movieData$",i.movieData$())},dependencies:[d],encapsulation:2,changeDetection:0})}}return o})();export{I as SearchComponent};
